{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/admin/add-product-form/add-product-form.component.ts","webpack:///src/app/components/admin/add-product-form/add-product-form.component.html","webpack:///src/app/components/admin/admin.component.ts","webpack:///src/app/components/admin/admin.component.html","webpack:///src/app/components/admin/purchases-history/purchases-history.component.ts","webpack:///src/app/components/admin/purchases-history/purchases-history.component.html","webpack:///src/app/components/admin/user-activity/user-activity.component.ts","webpack:///src/app/components/admin/user-activity/user-activity.component.html","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/login/login.component.ts","webpack:///src/app/components/login/login.component.html","webpack:///src/app/components/readme/readme.component.ts","webpack:///src/app/components/readme/readme.component.html","webpack:///src/app/components/register/register.component.ts","webpack:///src/app/components/register/register.component.html","webpack:///src/app/components/shared/footer/footer.component.ts","webpack:///src/app/components/shared/footer/footer.component.html","webpack:///src/app/components/shared/header/header.component.ts","webpack:///src/app/components/shared/header/header.component.html","webpack:///src/app/components/shared/messages/messages.component.ts","webpack:///src/app/components/shared/messages/messages.component.html","webpack:///src/app/components/shared/nav/nav.component.ts","webpack:///src/app/components/shared/nav/nav.component.html","webpack:///src/app/components/shared/page-not-found/page-not-found.component.ts","webpack:///src/app/components/shared/page-not-found/page-not-found.component.html","webpack:///src/app/components/shopping-cart/cart/cart-item/cart-item.component.ts","webpack:///src/app/components/shopping-cart/cart/cart-item/cart-item.component.html","webpack:///src/app/components/shopping-cart/cart/cart.component.ts","webpack:///src/app/components/shopping-cart/cart/cart.component.html","webpack:///src/app/components/shopping-cart/check-out/cart-summary/cart-summary.component.ts","webpack:///src/app/components/shopping-cart/check-out/cart-summary/cart-summary.component.html","webpack:///src/app/components/shopping-cart/check-out/check-out.component.ts","webpack:///src/app/components/shopping-cart/check-out/check-out.component.html","webpack:///src/app/components/shopping-cart/check-out/checkout-form/checkout-form.component.ts","webpack:///src/app/components/shopping-cart/check-out/checkout-form/checkout-form.component.html","webpack:///src/app/components/shopping-cart/check-out/thank-you/thank-you.component.ts","webpack:///src/app/components/shopping-cart/check-out/thank-you/thank-you.component.html","webpack:///src/app/components/shopping-cart/product-list/product-item/product-item.component.ts","webpack:///src/app/components/shopping-cart/product-list/product-item/product-item.component.html","webpack:///src/app/components/shopping-cart/product-list/product-list.component.ts","webpack:///src/app/components/shopping-cart/product-list/product-list.component.html","webpack:///src/app/components/shopping-cart/shopping-cart.component.ts","webpack:///src/app/components/shopping-cart/shopping-cart.component.html","webpack:///src/app/directives/drag-and-drop.directive.ts","webpack:///src/app/models/address.ts","webpack:///src/app/models/cart-item.ts","webpack:///src/app/models/product.ts","webpack:///src/app/models/purchase.ts","webpack:///src/app/models/user.ts","webpack:///src/app/services/Interceptors/tokenInterceptor.ts","webpack:///src/app/services/auth.guard.ts","webpack:///src/app/services/cart.service.ts","webpack:///src/app/services/messenger.service.ts","webpack:///src/app/services/pipes/filter-product-by-category.ts","webpack:///src/app/services/product.service.ts","webpack:///src/app/services/purchase.service.ts","webpack:///src/app/services/resolvers/products-resolver.ts","webpack:///src/app/services/stores/auth.store.ts","webpack:///src/app/services/stores/cart-store.ts","webpack:///src/config/api.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","component","canActivate","products","children","AppRoutingModule","forRoot","imports","providers","AppComponent","cartStore","title","init","selector","templateUrl","AppModule","provide","useValue","useClass","multi","declarations","bootstrap","AddProductFormComponent","fb","productService","router","file","initializeControls","attachControlsToForm","nameControl","required","minLength","priceControl","categoryControl","addProductForm","group","name","price","category","event","length","alert","valid","uploadProduct","value","subscribe","navigateByUrl","error","uploadFile","styleUrls","AdminComponent","PurchasesHistoryComponent","purchaseService","loadPurchases","result","lastPurchases","reverse","items","total","item","qty","product","UserActivityComponent","allUserActivity","usersActivityFiltered","push","searchData","search","valueChanges","val","text","filter","user","startsWith","HomeComponent","LoginComponent","auth","messageService","wasTryToSubmitted","loginForm","email","password","remember","login","err","alertMessage","controlName","controls","ReadmeComponent","RegisterComponent","firstNameControl","lastNameControl","emailControl","passControl","regForm","firstName","lastName","newUser","register","submitForm","FooterComponent","HeaderComponent","MessagesComponent","message$","clearMessage","NavComponent","isLoggedIn$","getNumberOfItemsInCart","userStr","localStorage","getItem","JSON","parse","isAdmin","logout","PageNotFoundComponent","CartItemComponent","msg","console","log","cartItem","deleteItemFromCart","updateCart","updateCartItem","decreaseQty","increaseQty","remove","CartComponent","cartTotal","cartTotal$","cartItems$","CartSummaryComponent","numOfItems","cartCount$","CheckOutComponent","CheckoutFormComponent","getUserDetails","cityControl","streetControl","homeNumberControl","apartmentControl","checkOutForm","city","street","homeNumber","apartment","address","postPurchase","submit","ThankYouComponent","ProductItemComponent","cartService","isExistInCart","quantity","addToCart","productItem","decreaseQuantity","increaseQuantity","ProductListComponent","route","categoryFilter","ALL","Category","productsList","snapshot","data","newCategory","productName","changeCategoryFilter","ShoppingCartComponent","DragAndDropDirective","onFileDropped","background","opacity","evt","preventDefault","stopPropagation","files","dataTransfer","emit","Address","CartItem","Product","description","image","categories","_id","desc","Purchase","personal","User","TokenInterceptor","next","clone","withCredentials","handle","pipe","status","navigate","AuthGuard","state","isUserAuth","childRoute","loggedIn","parseUrl","CartService","http","cartItems","get","post","cartItemsCount","ProductID","providedIn","MessengerService","subject","asObservable","events","message","FilterProductByCategory","includes","ProductService","formData","FormData","append","PurchaseService","purchaseBody","buildPurchaseBody","getCurrentCart","ProductsResolver","loadProducts","AUTH_DATA","AuthStore","cookieService","user$","isLoggedOut$","setItem","stringify","response","removeItem","token","getValue","CartStore","getCartTotal","itemIndex","findIndex","newItem","newCart","slice","doPutRequest","updatedItem","newCartItems","updateAndCreateNewCart","itemToDelete","deleteAndCreateNewCart","put","map","convertItemToIdOnly","baseUrl","production","productsUrl","cartUrl","purchasesUrl","environment","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {LoginComponent} from './components/login/login.component';\r\nimport {ShoppingCartComponent} from './components/shopping-cart/shopping-cart.component';\r\nimport {PageNotFoundComponent} from './components/shared/page-not-found/page-not-found.component';\r\nimport {CartComponent} from './components/shopping-cart/cart/cart.component';\r\nimport {RegisterComponent} from './components/register/register.component';\r\nimport {CheckOutComponent} from './components/shopping-cart/check-out/check-out.component';\r\nimport {ProductsResolver} from './services/resolvers/products-resolver';\r\nimport {AdminComponent} from './components/admin/admin.component';\r\nimport {AuthGuard} from './services/auth.guard';\r\nimport {ThankYouComponent} from './components/shopping-cart/check-out/thank-you/thank-you.component';\r\nimport {AddProductFormComponent} from './components/admin/add-product-form/add-product-form.component';\r\nimport {UserActivityComponent} from './components/admin/user-activity/user-activity.component';\r\nimport {PurchasesHistoryComponent} from './components/admin/purchases-history/purchases-history.component';\r\nimport {HomeComponent} from './components/home/home.component';\r\nimport {ReadmeComponent} from './components/readme/readme.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: '/shop',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'readme',\r\n    component: ReadmeComponent\r\n  },\r\n  {\r\n    path: 'home',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: RegisterComponent\r\n  },\r\n  {\r\n    path: 'checkout',\r\n    component: CheckOutComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'checkout/thanks',\r\n    component: ThankYouComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'shop',\r\n    component: ShoppingCartComponent,\r\n    resolve: {\r\n      products: ProductsResolver\r\n    },\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'cart',\r\n    component: CartComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'admin',\r\n    component: AdminComponent,\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      { path: '', redirectTo: 'addProduct', pathMatch: 'full' },\r\n      { path: 'addProduct', component: AddProductFormComponent },\r\n      { path: 'userActivity', component: UserActivityComponent },\r\n      { path: 'purchasesHistory', component: PurchasesHistoryComponent }\r\n    ]\r\n  },\r\n  {\r\n    path: '**',\r\n    component: PageNotFoundComponent,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule,\r\n  ],\r\n  providers: [\r\n    ProductsResolver,\r\n    AuthGuard\r\n  ]\r\n})\r\n\r\n\r\n\r\nexport class AppRoutingModule {\r\n\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { CartStore } from \"./services/stores/cart-store\";\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n})\r\nexport class AppComponent implements OnInit {\r\n  constructor(private cartStore: CartStore) {}\r\n  title = \"shopping-cart\";\r\n\r\n  ngOnInit(): void {\r\n    this.cartStore.init();\r\n  }\r\n}\r\n","\r\n<app-nav></app-nav>\r\n\r\n<app-messages></app-messages>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<app-footer></app-footer>\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { BrowserModule } from \"@angular/platform-browser\";\r\nimport { LOCALE_ID, NgModule } from \"@angular/core\";\r\nimport { HTTP_INTERCEPTORS, HttpClientModule } from \"@angular/common/http\";\r\n\r\nimport { AppComponent } from \"./app.component\";\r\nimport { HeaderComponent } from \"./components/shared/header/header.component\";\r\nimport { FooterComponent } from \"./components/shared/footer/footer.component\";\r\nimport { NavComponent } from \"./components/shared/nav/nav.component\";\r\nimport { ShoppingCartComponent } from \"./components/shopping-cart/shopping-cart.component\";\r\nimport { ProductListComponent } from \"./components/shopping-cart/product-list/product-list.component\";\r\nimport { CartComponent } from \"./components/shopping-cart/cart/cart.component\";\r\nimport { CartItemComponent } from \"./components/shopping-cart/cart/cart-item/cart-item.component\";\r\nimport { ProductItemComponent } from \"./components/shopping-cart/product-list/product-item/product-item.component\";\r\nimport { AppRoutingModule } from \"./app-routing.module\";\r\nimport { PageNotFoundComponent } from \"./components/shared/page-not-found/page-not-found.component\";\r\nimport { RegisterComponent } from \"./components/register/register.component\";\r\nimport { LoginComponent } from \"./components/login/login.component\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { CheckOutComponent } from \"./components/shopping-cart/check-out/check-out.component\";\r\nimport { CartSummaryComponent } from \"./components/shopping-cart/check-out/cart-summary/cart-summary.component\";\r\nimport { CheckoutFormComponent } from \"./components/shopping-cart/check-out/checkout-form/checkout-form.component\";\r\nimport { FilterProductByCategory } from \"./services/pipes/filter-product-by-category\";\r\nimport { AdminComponent } from \"./components/admin/admin.component\";\r\nimport { TokenInterceptor } from \"./services/Interceptors/tokenInterceptor\";\r\nimport { ThankYouComponent } from \"./components/shopping-cart/check-out/thank-you/thank-you.component\";\r\nimport { AddProductFormComponent } from \"./components/admin/add-product-form/add-product-form.component\";\r\nimport { DragAndDropDirective } from \"./directives/drag-and-drop.directive\";\r\nimport { UserActivityComponent } from \"./components/admin/user-activity/user-activity.component\";\r\nimport { PurchasesHistoryComponent } from \"./components/admin/purchases-history/purchases-history.component\";\r\nimport { HomeComponent } from \"./components/home/home.component\";\r\nimport { MessagesComponent } from \"./components/shared/messages/messages.component\";\r\nimport { CookieService } from \"ngx-cookie-service\";\r\nimport { ReadmeComponent } from \"./components/readme/readme.component\";\r\nimport { registerLocaleData } from \"@angular/common\";\r\nimport localeFr from \"@angular/common/locales/fr\";\r\nregisterLocaleData(localeFr);\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HeaderComponent,\r\n    FooterComponent,\r\n    NavComponent,\r\n    ShoppingCartComponent,\r\n    ProductListComponent,\r\n    CartComponent,\r\n    CartItemComponent,\r\n    ProductItemComponent,\r\n    PageNotFoundComponent,\r\n    RegisterComponent,\r\n    LoginComponent,\r\n    CheckOutComponent,\r\n    CartSummaryComponent,\r\n    CheckoutFormComponent,\r\n    FilterProductByCategory,\r\n    AdminComponent,\r\n    ThankYouComponent,\r\n    AddProductFormComponent,\r\n    DragAndDropDirective,\r\n    UserActivityComponent,\r\n    PurchasesHistoryComponent,\r\n    HomeComponent,\r\n    MessagesComponent,\r\n    ReadmeComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: LOCALE_ID,\r\n      useValue: \"fr-FR\",\r\n    },\r\n    { provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true },\r\n    CookieService,\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { AuthStore } from \"../../../services/stores/auth.store\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ProductService } from \"../../../services/product.service\";\r\n\r\n@Component({\r\n  selector: \"app-add-product-form\",\r\n  templateUrl: \"./add-product-form.component.html\",\r\n  styleUrls: [\"./add-product-form.component.css\"],\r\n})\r\nexport class AddProductFormComponent implements OnInit {\r\n  file: File = null;\r\n  addProductForm: FormGroup;\r\n\r\n  nameControl: FormControl;\r\n  priceControl: FormControl;\r\n  categoryControl: FormControl;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private productService: ProductService,\r\n    private router: Router\r\n  ) {\r\n    this.initializeControls();\r\n    this.attachControlsToForm();\r\n  }\r\n\r\n  initializeControls(): void {\r\n    this.nameControl = new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(2),\r\n    ]);\r\n    this.priceControl = new FormControl(\"\", [Validators.required]);\r\n    this.categoryControl = new FormControl(\"Cat\", [\r\n      Validators.required,\r\n      Validators.minLength(2),\r\n    ]);\r\n  }\r\n\r\n  private attachControlsToForm() {\r\n    this.addProductForm = this.fb.group({\r\n      name: this.nameControl,\r\n      price: this.priceControl,\r\n      category: this.categoryControl,\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  uploadFile(event) {\r\n    // for (let index = 0; index < event.length; index++) {\r\n    //   const element = event[index];\r\n    //   this.fileNames.push(element.name);\r\n    // }\r\n\r\n    if (event.length !== 1) {\r\n      alert(\"only one image allowed\");\r\n    } else {\r\n      this.file = event[0];\r\n    }\r\n  }\r\n\r\n  deleteAttachment() {\r\n    //this.fileNames.splice(index, 1);\r\n    this.file = null;\r\n  }\r\n\r\n  uploadProduct() {\r\n    if (this.addProductForm.valid && this.file != null) {\r\n      this.productService\r\n        .uploadProduct(\r\n          this.nameControl.value,\r\n          this.priceControl.value,\r\n          this.categoryControl.value,\r\n          this.file\r\n        )\r\n        .subscribe(\r\n          () => this.router.navigateByUrl(\"/shop\"),\r\n          (error) => alert(\"error in upload product\")\r\n        );\r\n    }\r\n  }\r\n}\r\n","<div class=\"form-wrapper\">\r\n  <form\r\n    class=\"form-signin\"\r\n    [formGroup]=\"addProductForm\"\r\n    autocomplete=\"off\"\r\n    novalidate\r\n  >\r\n    <h3 class=\"h3 mb-3 font-weight-normal\">Ajouter produit</h3>\r\n    <input\r\n      type=\"text\"\r\n      id=\"inputName\"\r\n      class=\"form-control\"\r\n      formControlName=\"name\"\r\n      placeholder=\"Product name\"\r\n      autofocus\r\n    />\r\n\r\n    <input\r\n      type=\"text\"\r\n      id=\"inputPrice\"\r\n      class=\"form-control\"\r\n      formControlName=\"price\"\r\n      placeholder=\"Price\"\r\n      autofocus\r\n    />\r\n\r\n    <select class=\"form-control\" id=\"selectCategory\" formControlName=\"category\">\r\n      <option hidden=\"hidden\">Sélectionner une catégorie</option>\r\n      <option value=\"all\">Toutes</option>\r\n      <option value=\"food\">Alimentaire</option>\r\n      <option value=\"khassida\">Khassida</option>\r\n      <option value=\"clothe\">Habits</option>\r\n    </select>\r\n\r\n    <div\r\n      class=\"uploadfilecontainer\"\r\n      appDragAndDrop\r\n      (click)=\"fileInput.click()\"\r\n      (onFileDropped)=\"uploadFile($event)\"\r\n    >\r\n      <input\r\n        hidden\r\n        type=\"file\"\r\n        #fileInput\r\n        (change)=\"uploadFile($event.target.files)\"\r\n      />\r\n    </div>\r\n    <div class=\"files-list\" *ngIf=\"file\">\r\n      <p>{{ file.name }}</p>\r\n      <button class=\"delete-file\" (click)=\"deleteAttachment()\">\r\n        <i class=\"fa fa-trash\"></i>\r\n      </button>\r\n    </div>\r\n\r\n    <button\r\n      class=\"btn btn-lg btn-primary btn-block\"\r\n      type=\"submit\"\r\n      (click)=\"uploadProduct()\"\r\n    >\r\n      Télécharger produit\r\n    </button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-admin\",\r\n  templateUrl: \"./admin.component.html\",\r\n})\r\nexport class AdminComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"container mt-3\">\r\n  <div class=\"nav-scroller py-1 mb-2 text-center align-items-center\">\r\n    <h2>Administration</h2>\r\n    <div>\r\n      <nav class=\"my-2 my-md-0 mr-md-3 mr-md-auto\">\r\n        <a class=\"p-2 text-dark mr-4\" routerLink=\"/admin/addProduct\"\r\n          >Ajouter produit</a\r\n        >\r\n        <a class=\"p-2 text-dark mr-4\" routerLink=\"/admin/userActivity\"\r\n          >Activité utilisateur</a\r\n        >\r\n        <a class=\"p-2 text-dark mr-4\" routerLink=\"/admin/purchasesHistory\"\r\n          >Dernières commandes</a\r\n        >\r\n      </nav>\r\n      <hr />\r\n    </div>\r\n  </div>\r\n  <div class=\"container w-75\">\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!--<router-outlet></router-outlet>-->\r\n  <!--<div class=\"container-fluid\">-->\r\n  <!--  <div class=\"row\">-->\r\n  <!--      <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4 text-center\">-->\r\n\r\n  <!--      <div class=\"table-responsive\">-->\r\n  <!--        <table class=\"table table-striped table-sm\">-->\r\n  <!--          <thead>-->\r\n  <!--          <tr>-->\r\n  <!--            <th>#</th>-->\r\n  <!--            <th>Header</th>-->\r\n  <!--            <th>Header</th>-->\r\n  <!--            <th>Header</th>-->\r\n  <!--            <th>Header</th>-->\r\n  <!--          </tr>-->\r\n  <!--          </thead>-->\r\n  <!--          <tbody>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,001</td>-->\r\n  <!--            <td>Lorem</td>-->\r\n  <!--            <td>ipsum</td>-->\r\n  <!--            <td>dolor</td>-->\r\n  <!--            <td>sit</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,002</td>-->\r\n  <!--            <td>amet</td>-->\r\n  <!--            <td>consectetur</td>-->\r\n  <!--            <td>adipiscing</td>-->\r\n  <!--            <td>elit</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,003</td>-->\r\n  <!--            <td>Integer</td>-->\r\n  <!--            <td>nec</td>-->\r\n  <!--            <td>odio</td>-->\r\n  <!--            <td>Praesent</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,003</td>-->\r\n  <!--            <td>libero</td>-->\r\n  <!--            <td>Sed</td>-->\r\n  <!--            <td>cursus</td>-->\r\n  <!--            <td>ante</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,004</td>-->\r\n  <!--            <td>dapibus</td>-->\r\n  <!--            <td>diam</td>-->\r\n  <!--            <td>Sed</td>-->\r\n  <!--            <td>nisi</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,005</td>-->\r\n  <!--            <td>Nulla</td>-->\r\n  <!--            <td>quis</td>-->\r\n  <!--            <td>sem</td>-->\r\n  <!--            <td>at</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,006</td>-->\r\n  <!--            <td>nibh</td>-->\r\n  <!--            <td>elementum</td>-->\r\n  <!--            <td>imperdiet</td>-->\r\n  <!--            <td>Duis</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,007</td>-->\r\n  <!--            <td>sagittis</td>-->\r\n  <!--            <td>ipsum</td>-->\r\n  <!--            <td>Praesent</td>-->\r\n  <!--            <td>mauris</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,008</td>-->\r\n  <!--            <td>Fusce</td>-->\r\n  <!--            <td>nec</td>-->\r\n  <!--            <td>tellus</td>-->\r\n  <!--            <td>sed</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,009</td>-->\r\n  <!--            <td>augue</td>-->\r\n  <!--            <td>semper</td>-->\r\n  <!--            <td>porta</td>-->\r\n  <!--            <td>Mauris</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,010</td>-->\r\n  <!--            <td>massa</td>-->\r\n  <!--            <td>Vestibulum</td>-->\r\n  <!--            <td>lacinia</td>-->\r\n  <!--            <td>arcu</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,011</td>-->\r\n  <!--            <td>eget</td>-->\r\n  <!--            <td>nulla</td>-->\r\n  <!--            <td>Class</td>-->\r\n  <!--            <td>aptent</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,012</td>-->\r\n  <!--            <td>taciti</td>-->\r\n  <!--            <td>sociosqu</td>-->\r\n  <!--            <td>ad</td>-->\r\n  <!--            <td>litora</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,013</td>-->\r\n  <!--            <td>torquent</td>-->\r\n  <!--            <td>per</td>-->\r\n  <!--            <td>conubia</td>-->\r\n  <!--            <td>nostra</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,014</td>-->\r\n  <!--            <td>per</td>-->\r\n  <!--            <td>inceptos</td>-->\r\n  <!--            <td>himenaeos</td>-->\r\n  <!--            <td>Curabitur</td>-->\r\n  <!--          </tr>-->\r\n  <!--          <tr>-->\r\n  <!--            <td>1,015</td>-->\r\n  <!--            <td>sodales</td>-->\r\n  <!--            <td>ligula</td>-->\r\n  <!--            <td>in</td>-->\r\n  <!--            <td>libero</td>-->\r\n  <!--          </tr>-->\r\n  <!--          </tbody>-->\r\n  <!--        </table>-->\r\n  <!--      </div>-->\r\n  <!--    </main>-->\r\n  <!--  </div>-->\r\n  <!--</div>-->\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { PurchaseService } from \"../../../services/purchase.service\";\r\nimport { Purchase } from \"../../../models/purchase\";\r\nimport { CartItem } from \"../../../models/cart-item\";\r\n\r\n@Component({\r\n  selector: \"app-purchases-history\",\r\n  templateUrl: \"./purchases-history.component.html\",\r\n})\r\nexport class PurchasesHistoryComponent implements OnInit {\r\n  lastPurchases: Purchase[];\r\n\r\n  constructor(private purchaseService: PurchaseService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.purchaseService.loadPurchases().subscribe((result) => {\r\n      this.lastPurchases = result.reverse();\r\n    });\r\n  }\r\n\r\n  getTotal(items: CartItem[]) {\r\n    let total = 0;\r\n    for (const item of items) {\r\n      total = total + item.qty * item.product.price;\r\n    }\r\n    return total;\r\n  }\r\n}\r\n","<div class=\"container text-center\" *ngIf=\"lastPurchases\">\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr class=\"alert-primary\">\r\n        <th>Nom & Prénom</th>\r\n        <th>Email</th>\r\n        <th>Date</th>\r\n        <th>Nombre de commandandes</th>\r\n        <th>Total</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let purchase of lastPurchases\">\r\n        <td>\r\n          {{ purchase.personal.firstName + \" \" + purchase.personal.lastName }}\r\n        </td>\r\n        <td>{{ purchase.personal.email }}</td>\r\n        <td>{{ purchase.purchaseDate | date }}</td>\r\n        <td>{{ purchase.items.length }}</td>\r\n        <td>{{ getTotal(purchase.items) | currency: \"EUR\" }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {FormControl, FormGroup} from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-user-activity',\r\n  templateUrl: './user-activity.component.html',\r\n  styleUrls: ['./user-activity.component.css']\r\n})\r\nexport class UserActivityComponent implements OnInit {\r\n  allUserActivity: string [][] = [[]];\r\n  usersActivityFiltered: string [][] = [[]];\r\n  searchData: FormGroup;\r\n\r\n  ngOnInit(): void {\r\n    this.allUserActivity.push(['Yaniv Falik', 'falik@gmail.com', 'Sep 09, 2020']);\r\n    this.allUserActivity.push(['ohad assulin', 'ohad@gmail.com', 'Sep 09, 2020']);\r\n    this.allUserActivity.push(['Yaniv Falik', 'falik@gmail.com', 'Aug 31, 2020']);\r\n    this.allUserActivity.push(['Sapir Alperovich', 'sapir@gmail.com', 'Aug 10, 2020']);\r\n    this.allUserActivity.push(['Yogev Nissan', 'Nissan@gmail.com', 'Aug 10, 2020']);\r\n    this.allUserActivity.push(['Yaniv Falik', 'falik@gmail.com', 'Aug 10, 2020']);\r\n\r\n    this.usersActivityFiltered = this.allUserActivity;\r\n    this.searchData = new FormGroup({\r\n      search: new FormControl(''),\r\n    });\r\n\r\n    this.searchData.valueChanges.subscribe(val => {\r\n      if (val.search === '') {\r\n        this.usersActivityFiltered = this.allUserActivity;\r\n      }\r\n    });\r\n  }\r\n\r\n  search(text: string) {\r\n    this.usersActivityFiltered = this.allUserActivity.filter(user => user[1].startsWith(text));\r\n  }\r\n}\r\n","<div class=\"container text-center\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-lg-6 offset-lg-3\">\r\n      <form\r\n        [formGroup]=\"searchData\"\r\n        (ngSubmit)=\"search(searchData.value.search)\"\r\n      >\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\">\r\n              <i class=\"fas fa-search\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            class=\"form-control\"\r\n            type=\"search\"\r\n            aria-label=\"Search\"\r\n            formControlName=\"search\"\r\n          />\r\n          <div class=\"input-group-append\">\r\n            <button class=\"btn btn-success\" type=\"submit\">\r\n              Chercher utilisateur\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr class=\"alert-primary\">\r\n          <th>Nom & Prénom</th>\r\n          <th>Email</th>\r\n          <th>Dérnière connection</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let activity of usersActivityFiltered\">\r\n          <td>{{ activity[0] }}</td>\r\n          <td>{{ activity[1] }}</td>\r\n          <td>{{ activity[2] }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div id=\"fog-header\" class=\"jumbotron jumbotron-fluid h-75\">\r\n  <div class=\"container text-center\">\r\n    <div class=\"transbox\"></div>\r\n  </div>\r\n</div>\r\n<div class=\"container w-75 text-center\">\r\n  <h1 class=\"cover-heading\">Bienvenue sur Massalk Xeweul web!</h1>\r\n  <p class=\"lead\">\r\n    <a routerLink=\"/shop\" class=\"btn btn-success btn-lg\"\r\n      >Commencez vos achats</a\r\n    >\r\n  </p>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {Router} from '@angular/router';\r\nimport {AuthStore} from '../../services/stores/auth.store';\r\nimport {MessengerService} from '../../services/messenger.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  wasTryToSubmitted = false;\r\n  loginForm: FormGroup;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private router: Router,\r\n    private auth: AuthStore,\r\n    private  messageService: MessengerService) {\r\n\r\n    this.loginForm = fb.group({\r\n      email: ['', [Validators.required]],\r\n      password: ['', [Validators.required]],\r\n      remember: [true, [Validators.required]]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  login() {\r\n    this.wasTryToSubmitted = true;\r\n    if (this.loginForm.valid) {\r\n      const val = this.loginForm.value;\r\n      this.auth.login(val.email, val.password, val.remember)\r\n        .subscribe(\r\n          () => {\r\n            this.router.navigateByUrl('/shop');\r\n          },\r\n          err => {\r\n            this.messageService.alertMessage(err.error);\r\n          }\r\n        );\r\n    }\r\n\r\n  }\r\n\r\n  getValidationClasses(controlName: string) {\r\n    if (!this.loginForm.controls[controlName].valid){\r\n      if (this.wasTryToSubmitted){\r\n        return 'is-invalid';\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"form-wrapper\">\r\n  <form class=\"form-signin\" [formGroup]=\"loginForm\">\r\n    <img class=\"mb-1\" src=\"/assets/images/logo.png\" alt=\"\" width=\"200\" height=\"auto\">\r\n    <h1 class=\"h3 mb-3 font-weight-normal\">Please Login</h1>\r\n\r\n    <input type=\"email\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\" formControlName=\"email\" autofocus\r\n           [ngClass]=\"getValidationClasses('email')\">\r\n\r\n    <input type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" formControlName=\"password\"\r\n           [ngClass]=\"getValidationClasses('password')\">\r\n\r\n    <div class=\"custom-checkbox my-3\">\r\n      <label>\r\n        <input type=\"checkbox\" class=\"custom-checkbox mr-2\" value=\"remember-me\" formControlName=\"remember\"> Remember me\r\n      </label>\r\n    </div>\r\n\r\n    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\" (click)=\"login()\">Login</button>\r\n    <a class=\"link\" routerLink='/register'>Not register?</a>\r\n  </form>\r\n</div>\r\n\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-readme\",\r\n  templateUrl: \"./readme.component.html\",\r\n})\r\nexport class ReadmeComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"container  mt-4\">\r\n  <h1 class=\"text-center\">README</h1>\r\n  <hr>\r\n  <h2 class=\"mb-0\">Store Name:</h2>\r\n  <p  class=\"lead\">Green Garden</p>\r\n\r\n  <h2 class=\"mb-0\">What we are selling?</h2>\r\n  <p  class=\"lead\">vegetables, fruits and more...</p>\r\n\r\n  <h2 class=\"mb-0\">Additional Pages:</h2>\r\n  <p  class=\"lead\">Add product page - <mark>http://localhost:4200/admin/addProduct</mark> (you must have admin role)\r\n    This page available only for admins and enable to upload a new product to the server.</p>\r\n\r\n  <p class=\"lead\">Last purchases page - <mark>http://localhost:4200/admin/purchasesHistory</mark>\r\n    This page available only for admins and enable to see the history purchase of all users.</p>\r\n\r\n  <h2 class=\"mb-0\">partner:</h2>\r\n  <p class=\"lead\">Yogev Nissan, 204542047</p>\r\n  <p class=\"lead\" >I was responsible for the front-end server anג Yogev was responsible for the server-side.\r\n  </p>\r\n\r\n  <h2 class=\"mb-0\">routes:</h2>\r\n  <p class=\"lead\">/home</p>\r\n  <p class=\"lead\">/shop</p>\r\n  <p class=\"lead\">/cart</p>\r\n  <p class=\"lead\">/checkout</p>\r\n  <p class=\"lead\">/login</p>\r\n  <p class=\"lead\">/register</p>\r\n  <p class=\"lead\">/admin</p>\r\n  <p class=\"lead\">/admin/addProduct</p>\r\n  <p class=\"lead\">/admin/userActivity</p>\r\n  <p class=\"lead\">/admin/purchasesHistory</p>\r\n\r\n  <h2 class=\"mb-0\">Security:</h2>\r\n  <p class=\"lead\">- The server defended from ddos by ddos npm package</p>\r\n  <p class=\"lead\">- All routes protected by guard auth - that check if the user login</p>\r\n  <p class=\"lead\">- cookies available only via html - meaning protected from JS attacks.</p>\r\n  <p class=\"lead\">- The server side allow origin only for the client host name - no other site can send request to the server</p>\r\n</div>\r\n","import {Component, OnChanges, OnInit} from '@angular/core';\r\nimport {Router, RouterModule} from '@angular/router';\r\nimport {User} from '../../models/user';\r\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {invalid} from '@angular/compiler/src/render3/view/util';\r\nimport {AuthStore} from '../../services/stores/auth.store';\r\nimport {MessengerService} from '../../services/messenger.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  wasTryToSubmitted = false;\r\n  regForm: FormGroup;\r\n\r\n  firstNameControl: FormControl;\r\n  lastNameControl: FormControl;\r\n  emailControl: FormControl;\r\n  passControl: FormControl;\r\n\r\n  constructor(private fb: FormBuilder, private auth: AuthStore, private router: Router,\r\n              private messageService: MessengerService) {\r\n    this.initializeControls();\r\n    this.attachControlsToForm();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  initializeControls(): void {\r\n    this.firstNameControl = new FormControl('', [\r\n      Validators.required,\r\n      Validators.minLength(2)\r\n    ]);\r\n    this.lastNameControl = new FormControl('', [\r\n      Validators.required,\r\n      Validators.minLength(2)\r\n    ]);\r\n    this.emailControl = new FormControl('', [\r\n      Validators.required,\r\n      Validators.email\r\n    ]);\r\n    this.passControl = new FormControl('', [\r\n      Validators.required,\r\n      Validators.minLength(6)\r\n    ]);\r\n  }\r\n\r\n\r\n  private attachControlsToForm() {\r\n    this.regForm = this.fb.group({\r\n      firstName: this.firstNameControl,\r\n      lastName: this.lastNameControl,\r\n      email: this.emailControl,\r\n      password: this.passControl\r\n    });\r\n  }\r\n\r\n  getValidationClasses(controlName: string) {\r\n      if (this.regForm.controls[controlName].valid){\r\n        return 'is-valid';\r\n      }\r\n      else {\r\n        if (this.wasTryToSubmitted){\r\n          return 'is-invalid';\r\n        }\r\n      }\r\n  }\r\n\r\n  submitForm() {\r\n    this.wasTryToSubmitted = true;\r\n    if (this.regForm.valid){\r\n      const newUser = this.regForm.value;\r\n      this.auth.register(newUser)\r\n        .subscribe(\r\n          () => {\r\n            this.router.navigateByUrl('/shop');\r\n          },\r\n          err => {\r\n            this.messageService.alertMessage(err.error);\r\n          }\r\n        );\r\n    }\r\n  }\r\n}\r\n","<div class=\"form-wrapper\">\r\n  <form [formGroup]=\"regForm\" class=\"form-signin\" autocomplete=\"off\" novalidate>\r\n    <img class=\"mb-1\" src=\"/assets/images/logo.png\" alt=\"\" width=\"200\" height=\"auto\">\r\n    <h1 class=\"h3 mb-3 font-weight-normal\">Please register</h1>\r\n    <input type=\"text\" id=\"inputFirstName\" class=\"form-control\" placeholder=\"First name\" formControlName=\"firstName\" autofocus\r\n            [ngClass]=\"getValidationClasses('firstName')\">\r\n\r\n\r\n    <input type=\"text\" id=\"inputLastName\" class=\"form-control\" placeholder=\"Last name\" formControlName=\"lastName\" autofocus\r\n           [ngClass]=\"getValidationClasses('lastName')\">\r\n\r\n    <input type=\"email\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\" formControlName=\"email\" autofocus\r\n           [ngClass]=\"getValidationClasses('email')\">\r\n\r\n    <input type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" formControlName=\"password\"\r\n           [ngClass]=\"getValidationClasses('password')\">\r\n\r\n    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\" (click)=\"submitForm()\">Register now</button>\r\n    <a class=\"link\" routerLink='/login'>Already register?</a>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-footer\",\r\n  templateUrl: \"./footer.component.html\",\r\n})\r\nexport class FooterComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<hr>\r\n<small>&copy; Yaniv Falik & </small>\r\n<small> Yogev Nissan</small>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<img src=\"/assets/images/logo.png\">\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { MessengerService } from \"../../../services/messenger.service\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Component({\r\n  selector: \"app-messages\",\r\n  templateUrl: \"./messages.component.html\",\r\n})\r\nexport class MessagesComponent implements OnInit {\r\n  message$: Observable<string>;\r\n  constructor(private messageService: MessengerService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.message$ = this.messageService.message$;\r\n  }\r\n\r\n  clear() {\r\n    this.messageService.clearMessage();\r\n  }\r\n}\r\n","<div *ngIf=\"(message$ | async)\" class=\"container mt-5 text-center\">\r\n  <div class=\"col-10 offset-1 col-md-4 offset-md-4\">\r\n    <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n      {{message$ | async}}\r\n      <button type=\"button\" class=\"close\" (click)=\"clear()\">\r\n        <i class=\"fas fa-times\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {AuthStore} from '../../../services/stores/auth.store';\r\nimport {CartService} from '../../../services/cart.service';\r\nimport {CartStore} from '../../../services/stores/cart-store';\r\nimport {Router} from '@angular/router';\r\nimport {MessengerService} from '../../../services/messenger.service';\r\n\r\n@Component({\r\n  selector: 'app-nav',\r\n  templateUrl: './nav.component.html',\r\n  styleUrls: ['./nav.component.css']\r\n})\r\nexport class NavComponent implements OnInit {\r\n\r\n  constructor(private auth: AuthStore, private cartStore: CartStore, private router: Router,\r\n              private  messageService: MessengerService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  isLoggedIn(){\r\n    return this.auth.isLoggedIn$;\r\n  }\r\n\r\n  getNumberOfItemsInCart(){\r\n    return this.cartStore.getNumberOfItemsInCart();\r\n  }\r\n\r\n  isAdmin() {\r\n    const userStr = localStorage.getItem('auth_data');\r\n\r\n    if (userStr) {\r\n      const user = JSON.parse(userStr);\r\n      return user.isAdmin;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  logout() {\r\n    this.auth.logout().subscribe(\r\n      () => {\r\n      },\r\n      err => {\r\n        this.messageService.alertMessage(err.error);\r\n      }\r\n    );\r\n  }\r\n}\r\n","<nav class=\"navbar navbar-expand-md navbar-dark bg-dark shadow-lg\">\r\n  <span href=\"#\" class=\"massalik-icon\"></span>\r\n  <a class=\"navbar-brand\" href=\"#\">Massalik xeweul</a>\r\n  <button\r\n    class=\"navbar-toggler\"\r\n    type=\"button\"\r\n    data-toggle=\"collapse\"\r\n    data-target=\"#navbarCollapse\"\r\n    aria-controls=\"navbarCollapse\"\r\n    aria-expanded=\"false\"\r\n    aria-label=\"Toggle navigation\"\r\n  >\r\n    <span class=\"navbar-toggler-icon\"></span>\r\n  </button>\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n    <ul class=\"navbar-nav mr-auto\">\r\n      <li class=\"nav-item active\">\r\n        <a class=\"nav-link\" routerLink=\"/home\"\r\n          ><i class=\"fas fa-home m-2\"></i>Acceuil</a\r\n        >\r\n      </li>\r\n      <li class=\"nav-item active\">\r\n        <a class=\"nav-link\" routerLink=\"/shop\"\r\n          ><i class=\"fa fa-tag m-2\" aria-hidden=\"true\"></i>Boutique</a\r\n        >\r\n      </li>\r\n      <li class=\"nav-item active\" *ngIf=\"isAdmin()\">\r\n        <a class=\"nav-link\" routerLink=\"/admin\" aria-disabled=\"true\"\r\n          ><i class=\"fa fa-lock m-2\" aria-hidden=\"true\"></i>Admin</a\r\n        >\r\n      </li>\r\n      <li class=\"nav-item active\">\r\n        <a\r\n          class=\"nav-link\"\r\n          routerLink=\"/admin\"\r\n          aria-disabled=\"true\"\r\n          routerLink=\"/cart\"\r\n          ><i class=\"fa fa-shopping-cart text-white m-2\"></i>Panier\r\n          <span\r\n            *ngIf=\"!(getNumberOfItemsInCart() === 0) && (isLoggedIn() | async)\"\r\n            class=\"badge badge-primary badge-size badge-pill ml-2\"\r\n            >{{ getNumberOfItemsInCart() }}</span\r\n          ></a\r\n        >\r\n      </li>\r\n    </ul>\r\n    <button\r\n      class=\"btn btn-outline-success\"\r\n      routerLink=\"/login\"\r\n      *ngIf=\"!(isLoggedIn() | async)\"\r\n    >\r\n      <i class=\"fa fa-user-circle mr-2\" aria-hidden=\"true\"></i>Se connecter\r\n    </button>\r\n\r\n    <button\r\n      class=\"btn btn-outline-success\"\r\n      (click)=\"logout()\"\r\n      *ngIf=\"isLoggedIn() | async\"\r\n    >\r\n      <i class=\"fa fa-arrow-circle-left mr-2\" aria-hidden=\"true\"></i>Se\r\n      déconnecter\r\n    </button>\r\n  </div>\r\n</nav>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-page-not-found\",\r\n  templateUrl: \"./page-not-found.component.html\",\r\n})\r\nexport class PageNotFoundComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<p>page-not-found works!</p>\r\n<a routerLink=\"/\">Back to home page</a>\r\n","import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { CartItem } from \"../../../../models/cart-item\";\r\nimport { MessengerService } from \"../../../../services/messenger.service\";\r\nimport { CartStore } from \"../../../../services/stores/cart-store\";\r\n\r\n@Component({\r\n  selector: \"app-cart-item\",\r\n  templateUrl: \"./cart-item.component.html\",\r\n  styleUrls: [\"./cart-item.component.css\"],\r\n})\r\nexport class CartItemComponent implements OnInit {\r\n  @Input() cartItem: CartItem;\r\n\r\n  constructor(private msg: MessengerService, private cartStore: CartStore) {}\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.cartItem);\r\n  }\r\n\r\n  remove() {\r\n    this.cartStore\r\n      .deleteItemFromCart(this.cartItem)\r\n      .subscribe(() => console.log(\"item deleted\"));\r\n  }\r\n\r\n  updateCartItem() {\r\n    this.cartStore\r\n      .updateCart(this.cartItem)\r\n      .subscribe(() => console.log(\"cart updated\"));\r\n  }\r\n\r\n  increaseQty() {\r\n    this.cartItem.qty++;\r\n    this.updateCartItem();\r\n  }\r\n\r\n  decreaseQty() {\r\n    this.cartItem.qty--;\r\n    this.updateCartItem();\r\n  }\r\n}\r\n","<div class=\"container mt-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <div class=\"p-2\">\r\n        <img\r\n          src=\"{{ this.cartItem.product.image }}\"\r\n          width=\"100px\"\r\n          height=\"70px\"\r\n          class=\"img-fluid rounded shadow-lg\"\r\n        />\r\n        <div class=\"ml-3 d-inline-block align-middle text-center\">\r\n          <span class=\"text-muted font-weight-normal font-italic d-block\">{{\r\n            this.cartItem.product.name\r\n          }}</span>\r\n          <span class=\"text-muted font-weight-normal font-italic d-block\">{{\r\n            this.cartItem.product.price | currency: \"EUR\"\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2 border-0 align-middle text-center my-auto\">\r\n      <strong>{{\r\n        this.cartItem.product.price * this.cartItem.qty | currency: \"EUR\"\r\n      }}</strong>\r\n    </div>\r\n    <div class=\"col-2 border-0 align-middle text-center my-auto\">\r\n      <i class=\"fa fa-minus m-3\" aria-hidden=\"true\" (click)=\"decreaseQty()\"></i>\r\n      <strong>{{ this.cartItem.qty }}</strong>\r\n      <i class=\"fa fa-plus m-3\" aria-hidden=\"true\" (click)=\"increaseQty()\"></i>\r\n    </div>\r\n    <div class=\"col-2 border-0 align-middle text-center my-auto\">\r\n      <i class=\"fa fa-trash\" (click)=\"remove()\"></i>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {MessengerService} from '../../../services/messenger.service';\r\nimport {Product} from '../../../models/product';\r\nimport {CartService} from '../../../services/cart.service';\r\nimport {CartItem} from '../../../models/cart-item';\r\nimport {Observable} from 'rxjs';\r\nimport {CartStore} from '../../../services/stores/cart-store';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css']\r\n})\r\nexport class CartComponent implements OnInit {\r\n  cartTotal = 0;\r\n\r\n  cartItems$: Observable<CartItem[]>;\r\n  cartTotal$: Observable<number>;\r\n\r\n  constructor(private msg: MessengerService,\r\n              private cartStore: CartStore) {\r\n    this.cartTotal$ = this.cartStore.cartTotal$;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.cartItems$ = this.cartStore.cartItems$;\r\n  }\r\n\r\n  isCartEmpty(){\r\n    return false;\r\n  }\r\n\r\n  // getCartTotal() {\r\n  //   return this.cartStore.getCartTotal();\r\n  // }\r\n}\r\n","<div class=\"container shadow p-3 my-5 bg-white rounded\">\r\n  <div class=\"px-4 px-lg-0\" *ngIf=\"!((this.cartItems$ | async).length === 0)\">\r\n    <div class=\"pb-1\">\r\n      <div class=\"text-center\">\r\n        <h2>Votre panier</h2>\r\n        <hr />\r\n      </div>\r\n      <div>\r\n        <div *ngFor=\"let item of this.cartItems$ | async; let last = last\">\r\n          <app-cart-item [cartItem]=\"item\"></app-cart-item>\r\n          <hr />\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <button routerLink=\"/checkout\" class=\"btn btn-outline-success btn-lg\">\r\n            {{ this.cartTotal$ | async | currency: \"EUR\" }} - Continue to\r\n            checkout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"px-4 px-lg-0\" *ngIf=\"(this.cartItems$ | async).length === 0\">\r\n    <div class=\"pb-5\">\r\n      <div class=\"text-center\">\r\n        <h2>There Are No Items In The Cart</h2>\r\n        <img src=\"assets/images/empty-cart.png\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { CartService } from \"../../../../services/cart.service\";\r\nimport { CartItem } from \"../../../../models/cart-item\";\r\nimport { Observable } from \"rxjs\";\r\nimport { MessengerService } from \"../../../../services/messenger.service\";\r\nimport { Product } from \"../../../../models/product\";\r\nimport { CartStore } from \"../../../../services/stores/cart-store\";\r\n\r\n@Component({\r\n  selector: \"app-cart-summary\",\r\n  templateUrl: \"./cart-summary.component.html\",\r\n})\r\nexport class CartSummaryComponent implements OnInit {\r\n  cartTotal$: Observable<number>;\r\n  //cartTotal = 0;\r\n  numOfItems = 0;\r\n  cartItems$: Observable<CartItem[]>;\r\n\r\n  constructor(private msg: MessengerService, private cartStore: CartStore) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cartItems$ = this.cartStore.cartItems$;\r\n    this.cartTotal$ = this.cartStore.cartTotal$;\r\n    //this.calcTotal();\r\n  }\r\n\r\n  // calcTotal() {\r\n  //   this.cartTotal = this.cartStore.getCartTotal();\r\n  // }\r\n\r\n  getNumberOfItems() {\r\n    return this.cartStore.cartCount$;\r\n  }\r\n}\r\n","<h4 class=\"d-flex justify-content-between align-items-center mb-3\">\r\n  <span class=\"text-muted\">Cart Summary</span>\r\n  <span class=\"badge badge-primary badge-pill\">{{this.getNumberOfItems() | async}}</span>\r\n</h4>\r\n<ul class=\"list-group mb-3\">\r\n  <li class=\"list-group-item d-flex justify-content-between lh-condensed\" *ngFor=\"let item of (this.cartItems$ | async);\">\r\n    <div>\r\n      <h4 class=\"my-0 text-muted\">{{item.product.name}}</h4>\r\n      <small class=\"text-muted\">{{(item.product.price | currency: 'ILS') + \" X \" + item.qty}}</small>\r\n    </div>\r\n    <span class=\"text-muted my-auto\">{{item.qty * item.product.price | currency: 'ILS'}}</span>\r\n  </li>\r\n  <li class=\"list-group-item d-flex justify-content-between bg-light\">\r\n    <div class=\"text-success\">\r\n      <h4 class=\"my-0\">Promo code</h4>\r\n      <small>EXAMPLECODE</small>\r\n    </div>\r\n    <span class=\"text-success my-auto\">$0</span>\r\n  </li>\r\n  <li class=\"list-group-item d-flex justify-content-between\">\r\n    <span>Total (ILS)</span>\r\n    <strong>{{(this.cartTotal$ | async) | currency: 'ILS'}}</strong>\r\n  </li>\r\n</ul>\r\n\r\n<form class=\"card p-2\">\r\n  <div class=\"input-group\">\r\n    <input type=\"text\" class=\"form-control\" placeholder=\"Promo code\">\r\n    <div class=\"input-group-append\">\r\n      <button type=\"submit\" class=\"btn btn-primary\">Redeem</button>\r\n    </div>\r\n  </div>\r\n</form>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-check-out\",\r\n  templateUrl: \"./check-out.component.html\",\r\n})\r\nexport class CheckOutComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"container mt-5\">\r\n  <div class=\"text-center\">\r\n    <h2>Checkout</h2>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4 order-md-2 mb-4\">\r\n      <app-cart-summary></app-cart-summary>\r\n    </div>\r\n    <div class=\"col-md-8 order-md-1\">\r\n      <app-checkout-form></app-checkout-form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { AuthStore } from \"../../../../services/stores/auth.store\";\r\nimport { Observable } from \"rxjs\";\r\nimport { User } from \"../../../../models/user\";\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { async } from \"@angular/core/testing\";\r\nimport { Address } from \"../../../../models/address\";\r\nimport { Purchase } from \"../../../../models/purchase\";\r\nimport { addAriaReferencedId } from \"@angular/cdk/a11y/aria-describer/aria-reference\";\r\nimport { CartStore } from \"../../../../services/stores/cart-store\";\r\nimport { PurchaseService } from \"../../../../services/purchase.service\";\r\n\r\n@Component({\r\n  selector: \"app-checkout-form\",\r\n  templateUrl: \"./checkout-form.component.html\",\r\n})\r\nexport class CheckoutFormComponent implements OnInit {\r\n  wasTryToSubmitted = false;\r\n  checkOutForm: FormGroup;\r\n  firstNameControl: FormControl;\r\n  lastNameControl: FormControl;\r\n  emailControl: FormControl;\r\n\r\n  cityControl: FormControl;\r\n  streetControl: FormControl;\r\n  homeNumberControl: FormControl;\r\n  apartmentControl: FormControl;\r\n\r\n  user: User;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private auth: AuthStore,\r\n    private router: Router,\r\n    private purchaseService: PurchaseService\r\n  ) {\r\n    this.user = auth.getUserDetails();\r\n    this.initializeControls();\r\n    this.attachControlsToForm();\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  initializeControls(): void {\r\n    this.firstNameControl = new FormControl(this.user.firstName, [\r\n      Validators.required,\r\n      Validators.minLength(2),\r\n    ]);\r\n    this.lastNameControl = new FormControl(this.user.lastName, [\r\n      Validators.required,\r\n      Validators.minLength(2),\r\n    ]);\r\n    this.emailControl = new FormControl(this.user.email, [\r\n      Validators.required,\r\n      Validators.email,\r\n    ]);\r\n    this.cityControl = new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(2),\r\n    ]);\r\n    this.streetControl = new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(2),\r\n    ]);\r\n    this.homeNumberControl = new FormControl(\"\", [Validators.required]);\r\n    this.apartmentControl = new FormControl(\"\", [Validators.required]);\r\n  }\r\n\r\n  private attachControlsToForm() {\r\n    this.checkOutForm = this.fb.group({\r\n      firstName: this.firstNameControl,\r\n      lastName: this.lastNameControl,\r\n      email: this.emailControl,\r\n      city: this.cityControl,\r\n      street: this.streetControl,\r\n      homeNumber: this.homeNumberControl,\r\n      apartment: this.apartmentControl,\r\n    });\r\n  }\r\n\r\n  getValidationClasses(controlName: string) {\r\n    if (this.checkOutForm.controls[controlName].valid) {\r\n      return \"is-valid\";\r\n    } else {\r\n      if (this.wasTryToSubmitted) {\r\n        return \"is-invalid\";\r\n      }\r\n    }\r\n  }\r\n\r\n  submit() {\r\n    this.wasTryToSubmitted = true;\r\n    if (this.checkOutForm.valid) {\r\n      const user: User = new User(\r\n        this.firstNameControl.value,\r\n        this.lastNameControl.value,\r\n        this.emailControl.value\r\n      );\r\n      const address = new Address(\r\n        this.cityControl.value,\r\n        this.streetControl.value,\r\n        this.homeNumberControl.value,\r\n        this.apartmentControl.value\r\n      );\r\n      this.purchaseService.postPurchase(user, address).subscribe(\r\n        () => {\r\n          this.router.navigateByUrl(\"/checkout/thanks\");\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","<form [formGroup]=\"checkOutForm\" class=\"needs-validation\" novalidate>\r\n  <!--  personal-->\r\n  <h4 class=\"mb-3\">Personal details</h4>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6 mb-3\">\r\n      <label for=\"inputFirstName\">First name</label>\r\n      <input type=\"text\" id=\"inputFirstName\" class=\"form-control\" formControlName=\"firstName\" autofocus\r\n             [ngClass]=\"getValidationClasses('firstName')\">\r\n    </div>\r\n    <div class=\"col-md-6 mb-3\">\r\n      <label for=\"inputLastName\">Last name</label>\r\n      <input type=\"text\" id=\"inputLastName\" class=\"form-control\" formControlName=\"lastName\" autofocus\r\n             [ngClass]=\"getValidationClasses('lastName')\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"mb-3\">\r\n    <label for=\"inputEmail\">Email</label>\r\n    <input type=\"email\" id=\"inputEmail\" class=\"form-control\" formControlName=\"email\" autofocus\r\n           [ngClass]=\"getValidationClasses('email')\">\r\n  </div>\r\n  <hr class=\"mb-4 mt-4\">\r\n\r\n<!--  Address-->\r\n  <div class=\"mb-3\">\r\n    <h4 class=\"mb-3\">Address</h4>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"city\">City</label>\r\n        <input type=\"text\" id=\"city\" class=\"form-control\" formControlName=\"city\" autofocus\r\n               [ngClass]=\"getValidationClasses('city')\">\r\n      </div>\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"street\">Street</label>\r\n        <input type=\"text\" id=\"street\" class=\"form-control\" formControlName=\"street\" autofocus\r\n               [ngClass]=\"getValidationClasses('street')\">\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"home_number\">Home number</label>\r\n        <input type=\"text\" id=\"home_number\" class=\"form-control\" formControlName=\"homeNumber\" autofocus\r\n               [ngClass]=\"getValidationClasses('homeNumber')\">\r\n      </div>\r\n      <div class=\"col-md-6 mb-3\">\r\n        <label for=\"apartment\">Apartment</label>\r\n        <input type=\"text\" id=\"apartment\" class=\"form-control\" formControlName=\"apartment\" autofocus\r\n               [ngClass]=\"getValidationClasses('apartment')\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n<!--  Payment-->\r\n  <hr class=\"mb-4\">\r\n  <h4 class=\"mb-3\">Payment</h4>\r\n\r\n  <div class=\"d-block my-3\">\r\n    <div class=\"custom-control custom-radio\">\r\n      <input id=\"credit\" name=\"paymentMethod\" type=\"radio\" class=\"custom-control-input\" checked required>\r\n      <label class=\"custom-control-label\" for=\"credit\">Credit card</label>\r\n    </div>\r\n    <div class=\"custom-control custom-radio\">\r\n      <input id=\"debit\" name=\"paymentMethod\" type=\"radio\" class=\"custom-control-input\" required>\r\n      <label class=\"custom-control-label\" for=\"debit\">Debit card</label>\r\n    </div>\r\n    <div class=\"custom-control custom-radio\">\r\n      <input id=\"paypal\" name=\"paymentMethod\" type=\"radio\" class=\"custom-control-input\" required>\r\n      <label class=\"custom-control-label\" for=\"paypal\">PayPal</label>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6 mb-3\">\r\n      <label for=\"cc-name\">Name on card</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"cc-name\" placeholder=\"\" required>\r\n      <small class=\"text-muted\">Full name as displayed on card</small>\r\n      <div class=\"invalid-feedback\">\r\n        Name on card is required\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6 mb-3\">\r\n      <label for=\"cc-number\">Credit card number</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"cc-number\" placeholder=\"\" required>\r\n      <div class=\"invalid-feedback\">\r\n        Credit card number is required\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-3 mb-3\">\r\n      <label for=\"cc-expiration\">Expiration</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"cc-expiration\" placeholder=\"\" required>\r\n      <div class=\"invalid-feedback\">\r\n        Expiration date required\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-3 mb-3\">\r\n      <label for=\"cc-cvv\">CVV</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"cc-cvv\" placeholder=\"\" required>\r\n      <div class=\"invalid-feedback\">\r\n        Security code required\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr class=\"mb-4\">\r\n  <button class=\"btn btn-primary btn-lg btn-block\" (click)=\"submit()\">Confirm and pay</button>\r\n</form>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-thank-you\",\r\n  templateUrl: \"./thank-you.component.html\",\r\n})\r\nexport class ThankYouComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"jumbotron text-center\">\r\n  <h1 class=\"display-3\">Thank You!</h1>\r\n  <hr>\r\n  <p>\r\n    Having trouble? <a>Contact us</a>\r\n  </p>\r\n  <p class=\"lead\">\r\n    <a class=\"btn btn-primary btn-sm\" href=\"https://bootstrapcreative.com/\" routerLink=\"/shop\">Continue to shop</a>\r\n  </p>\r\n</div>\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Product} from '../../../../models/product';\r\nimport {MessengerService} from '../../../../services/messenger.service';\r\nimport {CartService} from '../../../../services/cart.service';\r\nimport {CartStore} from '../../../../services/stores/cart-store';\r\n\r\n@Component({\r\n  selector: 'app-product-item',\r\n  templateUrl: './product-item.component.html',\r\n  styleUrls: ['./product-item.component.css']\r\n})\r\nexport class ProductItemComponent implements OnInit {\r\n  @Input()\r\n  productItem: Product;\r\n  isExistInCart = false;\r\n\r\n  quantity = 1;\r\n\r\n  constructor(private msg: MessengerService,\r\n              private cartService: CartService,\r\n              private cartStore: CartStore) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  handleAddToCart() {\r\n    this.isExistInCart = true;\r\n    this.cartStore.addToCart(this.productItem, this.quantity).subscribe(() => {\r\n      console.log('product added');\r\n    });\r\n  }\r\n\r\n  increaseQuantity(){\r\n    this.quantity++;\r\n  }\r\n\r\n  decreaseQuantity(){\r\n    if (this.quantity > 1) {\r\n      this.quantity--;\r\n    }\r\n  }\r\n}\r\n","<div class=\"card mb-4 shadow-sm\">\r\n  <div class=\"card-img text-center\">\r\n    <img\r\n      class=\"bd-placeholder-img card-img-top p-2 img-responsive mt-3\"\r\n      width=\"100%\"\r\n      [src]=\"productItem.image\"\r\n    />\r\n  </div>\r\n\r\n  <div class=\"card-body text-center\">\r\n    <h3 class=\"card-text\">\r\n      <strong>{{ productItem.name }}</strong>\r\n    </h3>\r\n    <h4 class=\"card-text\">{{ productItem.price | currency: \"EUR\" }}</h4>\r\n    <div class=\"border-0 align-middle text-center\">\r\n      <i\r\n        class=\"fa fa-minus m-3\"\r\n        aria-hidden=\"true\"\r\n        (click)=\"decreaseQuantity()\"\r\n      ></i>\r\n      <strong>{{ quantity }}</strong>\r\n      <i\r\n        class=\"fa fa-plus m-3\"\r\n        aria-hidden=\"true\"\r\n        (click)=\"increaseQuantity()\"\r\n      ></i>\r\n    </div>\r\n  </div>\r\n  <div\r\n    *ngIf=\"!isExistInCart\"\r\n    class=\"card-footer bg-primary text-center text-white\"\r\n    (click)=\"handleAddToCart()\"\r\n    id=\"footerButton\"\r\n  >\r\n    <span\r\n      ><i class=\"fa fa-plus-circle mr-2\" aria-hidden=\"true\"></i>Ajouter</span\r\n    >\r\n  </div>\r\n  <div\r\n    *ngIf=\"isExistInCart\"\r\n    class=\"card-footer bg-success text-center text-white\"\r\n  >\r\n    <span><i class=\"fas fa-check-circle mr-2\"></i>Produit ajouté</span>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ProductService } from \"../../../services/product.service\";\r\nimport { Category, Product } from \"../../../models/product\";\r\nimport { Observable } from \"rxjs\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { FormControl, FormGroup } from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: \"app-product-list\",\r\n  templateUrl: \"./product-list.component.html\",\r\n})\r\nexport class ProductListComponent implements OnInit {\r\n  productsList: Product[];\r\n  categoryFilter = Category.ALL;\r\n  searchData: FormGroup;\r\n  Category = Category;\r\n  constructor(\r\n    private productService: ProductService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.productsList = this.route.snapshot.data[\"products\"];\r\n    console.log(this.productsList);\r\n\r\n    this.searchData = new FormGroup({\r\n      search: new FormControl(\"\"),\r\n    });\r\n\r\n    this.searchData.valueChanges.subscribe((val) => {\r\n      if (val.search === \"\") {\r\n        this.productsList = this.route.snapshot.data[\"products\"];\r\n      }\r\n    });\r\n  }\r\n\r\n  changeCategoryFilter(newCategory: Category) {\r\n    this.categoryFilter = newCategory;\r\n  }\r\n\r\n  search(productName: string) {\r\n    this.productsList = this.productsList.filter((product) =>\r\n      product.name.startsWith(productName)\r\n    );\r\n  }\r\n}\r\n","<section>\r\n  <div class=\"container text-center\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-4 offset-lg-4\">\r\n        <form\r\n          [formGroup]=\"searchData\"\r\n          (ngSubmit)=\"search(searchData.value.search)\"\r\n        >\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\">\r\n                <i class=\"fas fa-search\"></i>\r\n              </span>\r\n            </div>\r\n            <input\r\n              class=\"form-control\"\r\n              type=\"search\"\r\n              aria-label=\"Search\"\r\n              formControlName=\"search\"\r\n            />\r\n            <div class=\"input-group-append\">\r\n              <button class=\"btn btn-success\" type=\"submit\">Chercher</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <ul class=\"nav nav-tabs mt-3\" id=\"myTab\" role=\"tablist\">\r\n    <li class=\"nav-item\" role=\"presentation\">\r\n      <a\r\n        class=\"nav-link active\"\r\n        id=\"all-tab\"\r\n        data-toggle=\"tab\"\r\n        role=\"tab\"\r\n        aria-controls=\"home\"\r\n        aria-selected=\"true\"\r\n        (click)=\"changeCategoryFilter(Category.ALL)\"\r\n        >Tous</a\r\n      >\r\n    </li>\r\n    <li class=\"nav-item\" role=\"presentation\">\r\n      <a\r\n        class=\"nav-link\"\r\n        id=\"vegetables-tab\"\r\n        data-toggle=\"tab\"\r\n        role=\"tab\"\r\n        aria-controls=\"profile\"\r\n        aria-selected=\"false\"\r\n        (click)=\"changeCategoryFilter(Category.FOOD)\"\r\n        >Alimentaire</a\r\n      >\r\n    </li>\r\n    <li class=\"nav-item\" role=\"presentation\">\r\n      <a\r\n        class=\"nav-link\"\r\n        id=\"fruits-tab\"\r\n        data-toggle=\"tab\"\r\n        role=\"tab\"\r\n        aria-controls=\"contact\"\r\n        aria-selected=\"false\"\r\n        (click)=\"changeCategoryFilter(Category.KHASSIDA)\"\r\n        >Khassida</a\r\n      >\r\n    </li>\r\n    <li class=\"nav-item\" role=\"presentation\">\r\n      <a\r\n        class=\"nav-link\"\r\n        id=\"dry-tab\"\r\n        data-toggle=\"tab\"\r\n        role=\"tab\"\r\n        aria-controls=\"contact\"\r\n        aria-selected=\"false\"\r\n        (click)=\"changeCategoryFilter(Category.CLOTHE)\"\r\n        >Habits</a\r\n      >\r\n    </li>\r\n  </ul>\r\n  <div class=\"row mt-4\">\r\n    <div\r\n      class=\"col-md-3 mb-3\"\r\n      *ngFor=\"\r\n        let product of productsList | filterByCategory: this.categoryFilter\r\n      \"\r\n    >\r\n      <app-product-item [productItem]=\"product\"> </app-product-item>\r\n    </div>\r\n  </div>\r\n</section>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {CartStore} from '../../services/stores/cart-store';\r\n\r\n@Component({\r\n  selector: 'app-shopping-cart',\r\n  templateUrl: './shopping-cart.component.html',\r\n  styleUrls: ['./shopping-cart.component.css']\r\n})\r\nexport class ShoppingCartComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container mt-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-product-list></app-product-list>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","import { Directive, Output, Input, EventEmitter, HostBinding, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appDragAndDrop]'\r\n})\r\nexport class DragAndDropDirective {\r\n\r\n  @Output() onFileDropped = new EventEmitter<any>();\r\n\r\n  @HostBinding('style.background-color') private background = '#f5fcff';\r\n  @HostBinding('style.opacity') private opacity = '1';\r\n\r\n  // Dragover listener\r\n  @HostListener('dragover', ['$event']) onDragOver(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    this.background = '#9ecbec';\r\n    this.opacity = '0.8';\r\n  }\r\n\r\n  // Dragleave listener\r\n  @HostListener('dragleave', ['$event']) public onDragLeave(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    this.background = '#f5fcff';\r\n    this.opacity = '1';\r\n  }\r\n\r\n  // Drop listener\r\n  @HostListener('drop', ['$event']) public ondrop(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    this.background = '#f5fcff';\r\n    this.opacity = '1';\r\n    let files = evt.dataTransfer.files;\r\n    if (files.length > 0) {\r\n      this.onFileDropped.emit(files);\r\n    }\r\n  }\r\n\r\n}\r\n","export class Address {\r\n  city: string;\r\n  street: string;\r\n  homeNumber: string;\r\n  apartment: string;\r\n\r\n  constructor(city: string, street: string, homeNumber: string, apartment: string) {\r\n    this.city = city;\r\n    this.street = street;\r\n    this.homeNumber = homeNumber;\r\n    this.apartment = apartment;\r\n  }\r\n}\r\n","import {Product} from './product';\r\n\r\nexport class CartItem {\r\n  // id: number;\r\n  product: Product;\r\n  qty: number;\r\n\r\n  constructor(product: Product, qty = 1) {\r\n    // this.id = id;\r\n    this.product = product;\r\n    this.qty = qty;\r\n  }\r\n}\r\n","export class Product {\r\n  _id: number;\r\n  name: string;\r\n  desc: string;\r\n  price: number;\r\n  image: string;\r\n  categories: Category[];\r\n\r\n  constructor(\r\n    id: number,\r\n    name: string,\r\n    description = \"\",\r\n    price = 0,\r\n    image = \"https://www.allianceplast.com/wp-content/uploads/2017/11/no-image.png\",\r\n    categories = [Category.ALL]\r\n  ) {\r\n    this._id = id;\r\n    this.name = name;\r\n    this.price = price;\r\n    this.desc = description;\r\n    this.image = image;\r\n    this.categories = categories;\r\n  }\r\n}\r\n\r\nexport enum Category {\r\n  ALL = \"ALL\",\r\n  FOOD = \"FOOD\",\r\n  KHASSIDA = \"KHASSIDA\",\r\n  CLOTHE = \"CLOTHE\",\r\n}\r\n","import {Address} from './address';\r\nimport {User} from './user';\r\nimport {CartItem} from './cart-item';\r\n\r\nexport class Purchase {\r\n  personal: User;\r\n  address: Address;\r\n  items: CartItem [];\r\n\r\n  constructor(user: User, address: Address, items: CartItem []) {\r\n    this.personal = user;\r\n    this.address = address;\r\n    this.items = items;\r\n  }\r\n}\r\n","export class User {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n\r\n  constructor(firstName = '', lastName = '', email = '') {\r\n    this.firstName = firstName;\r\n    this.lastName = lastName;\r\n    this.email = email;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HttpErrorResponse} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport {AuthStore} from '../stores/auth.store';\r\nimport {tap} from 'rxjs/operators';\r\nimport {Router} from '@angular/router';\r\n\r\n@Injectable()\r\nexport class TokenInterceptor implements HttpInterceptor {\r\n  constructor(private router: Router, private auth: AuthStore) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    req = req.clone({\r\n      withCredentials: true\r\n    });\r\n\r\n    return next.handle(req).pipe( tap(() => {},\r\n      (err: any) => {\r\n        if (err instanceof HttpErrorResponse) {\r\n          if (err.status !== 401) {\r\n            return;\r\n          }\r\n          this.auth.logout();\r\n          this.router.navigate(['login']);\r\n        }\r\n      }));\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {AuthStore} from './stores/auth.store';\r\nimport {ActivatedRouteSnapshot, CanActivate, CanActivateChild, Router, RouterStateSnapshot, UrlTree} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate, CanActivateChild {\r\n  constructor(private auth: AuthStore, private router: Router) {\r\n  }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> {\r\n    return this.isUserAuth();\r\n  }\r\n\r\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> {\r\n    return this.isUserAuth();\r\n  }\r\n\r\n  private isUserAuth() {\r\n    return this.auth.isLoggedIn$.pipe(\r\n      map(loggedIn => loggedIn ? true : this.router.parseUrl('/login'))\r\n    );\r\n  }\r\n}\r\n\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\n\r\nimport { CartItem } from \"../models/cart-item\";\r\nimport { cartUrl } from \"../../config/api\";\r\nimport { Product } from \"../models/product\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CartService {\r\n  cartItemsCount: number;\r\n  cartItems: CartItem[] = [];\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  loadCartItems(): Observable<CartItem[]> {\r\n    return this.http.get<CartItem[]>(cartUrl).pipe(\r\n      map((result) => {\r\n        return result;\r\n      })\r\n    );\r\n  }\r\n\r\n  addProductToCart(product: Product, quantity: number): Observable<any> {\r\n    const qty = 1;\r\n    return this.http.post(cartUrl, { product, qty });\r\n  }\r\n\r\n  // updateCartItem(item: CartItem): Observable<any> {\r\n  //   return this.http.put(cartUrl + '/' + item.id, item);\r\n  // }\r\n\r\n  getItemCount(): number {\r\n    return this.cartItemsCount;\r\n  }\r\n\r\n  deleteItem(ProductID: number): Observable<any> {\r\n    return this.http.delete(cartUrl + \"/\" + ProductID);\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable, Subject } from \"rxjs\";\r\nimport { CartItem } from \"../models/cart-item\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { NavigationStart, Router } from \"@angular/router\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class MessengerService {\r\n  private subject = new BehaviorSubject<string>(null);\r\n  message$: Observable<string> = this.subject.asObservable();\r\n\r\n  constructor(private router: Router) {\r\n    router.events.subscribe((event: any) => {\r\n      if (event instanceof NavigationStart) {\r\n        this.subject.next(null);\r\n      }\r\n    });\r\n  }\r\n\r\n  alertMessage(message: string) {\r\n    this.subject.next(message);\r\n  }\r\n\r\n  clearMessage() {\r\n    this.subject.next(null);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { Category, Product } from \"../../models/product\";\r\nimport { ProductService } from \"../product.service\";\r\n\r\n@Pipe({\r\n  name: \"filterByCategory\",\r\n})\r\nexport class FilterProductByCategory implements PipeTransform {\r\n  transform(products: Product[], category: Category): Product[] {\r\n    console.log(products);\r\n    if (category === Category.ALL) {\r\n      return products;\r\n    } else {\r\n      return products.filter((product) =>\r\n        product.categories.includes(category)\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Product } from \"../models/product\";\r\nimport { HttpClient, HttpHeaders, HttpParams } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\nimport { productsUrl, purchasesUrl } from \"../../config/api\";\r\nimport { AuthStore } from \"./stores/auth.store\";\r\nimport { map } from \"rxjs/operators\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ProductService {\r\n  constructor(private http: HttpClient, private auth: AuthStore) {}\r\n\r\n  loadProducts(): Observable<Product[]> {\r\n    return this.http\r\n      .get<any>(productsUrl, { withCredentials: true })\r\n      .pipe(map((result) => result.products as Product[]));\r\n  }\r\n\r\n  uploadProduct(name: string, price: string, category: string, file: File) {\r\n    const formData: FormData = new FormData();\r\n\r\n    formData.append(\"image\", file, file.name);\r\n    formData.append(\"name\", name);\r\n    formData.append(\"categories\", category);\r\n    formData.append(\"price\", price);\r\n\r\n    return this.http.post(productsUrl + \"/new\", formData);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {Product} from '../models/product';\r\nimport {productsUrl, purchasesUrl} from '../../config/api';\r\nimport {map} from 'rxjs/operators';\r\nimport {Address} from '../models/address';\r\nimport {User} from '../models/user';\r\nimport {CartStore} from './stores/cart-store';\r\nimport {Purchase} from '../models/purchase';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PurchaseService {\r\n\r\n  constructor(private http: HttpClient, private cartStore: CartStore)  {\r\n  }\r\n\r\n  loadPurchases(): Observable<Purchase[]> {\r\n    return this.http.get<any>(purchasesUrl);\r\n  }\r\n\r\n  postPurchase(user: User, address: Address): Observable<any> {\r\n    const purchaseBody = this.buildPurchaseBody(user, address);\r\n    return this.http.post<any>(purchasesUrl, purchaseBody);\r\n  }\r\n\r\n  private buildPurchaseBody(user: User, address: Address) {\r\n      const items = this.cartStore.getCurrentCart();\r\n\r\n      return new Purchase(user, address, items);\r\n  }\r\n}\r\n","import {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\r\nimport {Injectable} from '@angular/core';\r\nimport {Observable} from 'rxjs';\r\nimport {ProductService} from '../product.service';\r\nimport {filter, map} from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ProductsResolver implements Resolve<any> {\r\n\r\n  constructor(private productService: ProductService) {\r\n  }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\r\n    return this.productService.loadProducts();\r\n  }\r\n}\r\n","import { Inject, Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable } from \"rxjs\";\r\nimport { User } from \"../../models/user\";\r\nimport { map, shareReplay, tap } from \"rxjs/operators\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Router, Routes } from \"@angular/router\";\r\nimport { CartStore } from \"./cart-store\";\r\nimport { CookieService } from \"ngx-cookie-service\";\r\n\r\nconst AUTH_DATA = \"auth_data\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AuthStore {\r\n  private subject = new BehaviorSubject<User>(null);\r\n\r\n  user$: Observable<User> = this.subject.asObservable();\r\n\r\n  isLoggedIn$: Observable<boolean>;\r\n  isLoggedOut$: Observable<boolean>;\r\n  isAdmin$: Observable<boolean>;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private cartStore: CartStore,\r\n    private cookieService: CookieService\r\n  ) {\r\n    this.isLoggedIn$ = this.user$.pipe(map((user) => !!user));\r\n\r\n    this.isLoggedOut$ = this.isLoggedIn$.pipe(map((loggedIn) => !loggedIn));\r\n\r\n    const user = localStorage.getItem(AUTH_DATA);\r\n\r\n    if (user) {\r\n      this.subject.next(JSON.parse(user));\r\n    }\r\n  }\r\n\r\n  login(email: string, password: string, remember: boolean): Observable<User> {\r\n    return this.http\r\n      .post<User>(\r\n        \"http://127.0.0.1:3000/api/users/login\",\r\n        { email, password, remember },\r\n        { withCredentials: true }\r\n      )\r\n      .pipe(\r\n        tap((user) => {\r\n          console.log(user);\r\n          this.subject.next(user);\r\n          localStorage.setItem(AUTH_DATA, JSON.stringify(user));\r\n          this.cartStore.init();\r\n        }),\r\n        shareReplay()\r\n      );\r\n  }\r\n\r\n  logout() {\r\n    return this.http\r\n      .post<any>(\"http://127.0.0.1:3000/api/users/logout\", {})\r\n      .pipe(\r\n        tap((response) => {\r\n          this.subject.next(null);\r\n          localStorage.removeItem(AUTH_DATA);\r\n          this.router.navigateByUrl(\"/login\");\r\n        }),\r\n        shareReplay()\r\n      );\r\n\r\n    // this.subject.next(null);\r\n    // localStorage.removeItem(AUTH_DATA);\r\n    // this.cookieService.delete('connect.sid', '/', 'localhost', false, 'None');\r\n    // this.router.navigateByUrl('/login');\r\n  }\r\n\r\n  register(newUser: User): Observable<User> {\r\n    return this.http\r\n      .post<User>(\"http://localhost:3000/api/users/register\", newUser)\r\n      .pipe(\r\n        tap((user) => {\r\n          this.subject.next(user);\r\n          localStorage.setItem(AUTH_DATA, JSON.stringify(user));\r\n        }),\r\n        shareReplay()\r\n      );\r\n  }\r\n\r\n  getToken() {\r\n    const user = JSON.parse(localStorage.getItem(AUTH_DATA));\r\n    if (user) {\r\n      return user.token;\r\n    }\r\n  }\r\n\r\n  getUserDetails(): User {\r\n    return this.subject.getValue();\r\n  }\r\n\r\n  isAdmin() {}\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable } from \"rxjs\";\r\nimport { CartItem } from \"../../models/cart-item\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { cartUrl } from \"../../../config/api\";\r\nimport { map, tap } from \"rxjs/operators\";\r\nimport { Product } from \"../../models/product\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CartStore {\r\n  private subject = new BehaviorSubject<CartItem[]>([]);\r\n  cartItems$: Observable<CartItem[]> = this.subject.asObservable();\r\n  cartCount$: Observable<number>;\r\n  cartTotal$: Observable<number>;\r\n\r\n  constructor(private http: HttpClient) {\r\n    this.cartCount$ = this.cartItems$.pipe(\r\n      map((cartItems) => cartItems.length)\r\n    );\r\n    this.cartTotal$ = this.cartItems$.pipe(\r\n      map((cartItems) => this.getCartTotal(cartItems))\r\n    );\r\n  }\r\n\r\n  init() {\r\n    this.http\r\n      .get<CartItem[]>(cartUrl, { withCredentials: true })\r\n      .pipe(tap(() => console.log(\"Http reques executed\")))\r\n      .subscribe((items) => this.subject.next(items));\r\n  }\r\n\r\n  addToCart(product: Product, qty: number) {\r\n    const cartItems = this.subject.getValue();\r\n\r\n    const itemIndex = cartItems.findIndex(\r\n      (item) => item.product._id === product._id\r\n    );\r\n\r\n    // check if item already exists\r\n    if (itemIndex === -1) {\r\n      const newItem = new CartItem(product, qty);\r\n      cartItems.push(newItem);\r\n    } else {\r\n      cartItems[itemIndex].qty = cartItems[itemIndex].qty + qty;\r\n    }\r\n\r\n    const newCart = cartItems.slice(0);\r\n\r\n    this.subject.next(newCart);\r\n\r\n    return this.doPutRequest(newCart);\r\n  }\r\n\r\n  updateCart(updatedItem: CartItem): Observable<any> {\r\n    const newCartItems = this.updateAndCreateNewCart(updatedItem);\r\n    this.subject.next(newCartItems);\r\n\r\n    return this.doPutRequest(newCartItems);\r\n  }\r\n\r\n  private updateAndCreateNewCart(updatedItem: CartItem) {\r\n    const cartItems = this.subject.getValue();\r\n\r\n    const itemIndex = cartItems.findIndex(\r\n      (item) => item.product._id === updatedItem.product._id\r\n    );\r\n\r\n    const newCart = cartItems.slice(0);\r\n\r\n    newCart[itemIndex] = {\r\n      ...cartItems[itemIndex],\r\n      ...updatedItem,\r\n    };\r\n\r\n    return newCart;\r\n  }\r\n\r\n  deleteItemFromCart(itemToDelete: CartItem): Observable<any> {\r\n    const newCartItems = this.deleteAndCreateNewCart(itemToDelete);\r\n    this.subject.next(newCartItems);\r\n\r\n    return this.http.delete<CartItem[]>(\r\n      `${cartUrl}/${itemToDelete.product._id}`\r\n    );\r\n  }\r\n\r\n  private deleteAndCreateNewCart(itemToDelete: CartItem) {\r\n    const cartItems = this.subject.getValue();\r\n\r\n    const newCart = cartItems.filter(\r\n      (item) => !(item.product._id === itemToDelete.product._id)\r\n    );\r\n\r\n    return newCart;\r\n  }\r\n\r\n  private convertItemToIdOnly(item): any {\r\n    return { product: item.product._id, qty: item.qty };\r\n  }\r\n\r\n  private doPutRequest(newCartItems: CartItem[]) {\r\n    return this.http.put<CartItem[]>(cartUrl, {\r\n      items: newCartItems.map((item) => this.convertItemToIdOnly(item)),\r\n    });\r\n  }\r\n\r\n  getCartTotal(cartItems: CartItem[]) {\r\n    let total = 0;\r\n\r\n    for (const item of cartItems) {\r\n      total = total + item.qty * item.product.price;\r\n    }\r\n\r\n    return total;\r\n  }\r\n\r\n  getNumberOfItemsInCart() {\r\n    const cartItems = this.subject.getValue();\r\n\r\n    return cartItems ? cartItems.length : 0;\r\n  }\r\n\r\n  getCurrentCart() {\r\n    return this.subject.getValue();\r\n  }\r\n}\r\n","import {environment} from '../environments/environment';\r\n\r\nexport const baseUrl = environment.production ? 'https://blabla.co.il' : 'http://127.0.0.1:3000/api';\r\nexport const productsUrl = baseUrl + '/products';\r\nexport const cartUrl = baseUrl + '/cart';\r\nexport const purchasesUrl = baseUrl + '/purchases';\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}